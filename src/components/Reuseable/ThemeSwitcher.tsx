import { useState, useEffect } from "react";
import { useDispatch } from "react-redux";
import { Link } from "react-router-dom";
import { toggleTheme } from "../../store/themeConfigSlice";

const ThemeSwitcher = () => {
    const [mounted, setMounted] = useState(false);
    const [activeLink, setActiveLink] = useState(1); // 1 for Link 1, 2 for Link 2

    useEffect(() => {
        setMounted(true);
    }, []);
    const dispatch = useDispatch();

    const handleLinkClick = (linkNumber: any) => {
        setActiveLink(linkNumber);
        if (linkNumber == 1) {
            dispatch(toggleTheme('light'));

        } else {
            dispatch(toggleTheme('dark'));

        }

    };

    if (!mounted) {
        return null;
    }

    return (
        <div className={`pe-[15px]`}>
            <div className="w-[85px] relative flex  items-center justify-between  border border-customgraybg dark:border-customlightgraybg bg-white dark:bg-customMainblackbg border-1 rounded-3xl px-[5px] h-[40px]">
                <Link
                    to={""}
                    className={`z-30  w-[130px] flex items-center justify-center cursor-pointer ${activeLink === 1 ? 'w-[31.35px] h-[21.35px] absolute bg-customgraybg dark:bg-customblackbg top-[49%] translate-y-[-50%] left-[7px] rounded-[15px]' : 'absolute top-[30%]  left-[0px]'}`}
                    onClick={() => handleLinkClick(1)}
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                        <path d="M7.96674 0.325082C7.81437 0.327463 7.66917 0.390225 7.56304 0.499583C7.45691 0.60894 7.39853 0.755951 7.40072 0.908325V2.05834C7.39964 2.13453 7.41372 2.21018 7.44213 2.28089C7.47054 2.3516 7.51272 2.41595 7.56623 2.47022C7.61973 2.52448 7.68348 2.56757 7.75378 2.59698C7.82408 2.62639 7.89952 2.64153 7.97572 2.64153C8.05192 2.64153 8.12737 2.62639 8.19767 2.59698C8.26797 2.56757 8.33172 2.52448 8.38522 2.47022C8.43872 2.41595 8.4809 2.3516 8.50932 2.28089C8.53773 2.21018 8.55181 2.13453 8.55073 2.05834V0.908325C8.55183 0.831364 8.53748 0.754964 8.50851 0.683654C8.47954 0.612344 8.43655 0.547574 8.38209 0.493184C8.32763 0.438793 8.26281 0.395889 8.19146 0.367014C8.12011 0.338138 8.0437 0.32388 7.96674 0.325082ZM2.9549 2.40499C2.84046 2.40502 2.72864 2.43919 2.63373 2.50312C2.53883 2.56706 2.46515 2.65786 2.42214 2.7639C2.37913 2.86995 2.36873 2.98641 2.39228 3.0984C2.41583 3.21038 2.47226 3.3128 2.55434 3.39253L3.36744 4.20563C3.47536 4.31355 3.62173 4.37418 3.77436 4.37418C3.92698 4.37418 4.07336 4.31355 4.18128 4.20563C4.2892 4.0977 4.34983 3.95133 4.34983 3.79871C4.34983 3.64608 4.2892 3.49971 4.18128 3.39178L3.36818 2.57869C3.31444 2.52354 3.25016 2.47974 3.17916 2.44991C3.10817 2.42007 3.03191 2.40479 2.9549 2.40499ZM12.9786 2.40499C12.8292 2.40934 12.6875 2.47164 12.5833 2.57869L11.7702 3.39178C11.6622 3.49971 11.6016 3.64608 11.6016 3.79871C11.6016 3.95133 11.6622 4.0977 11.7702 4.20563C11.8781 4.31355 12.0245 4.37418 12.1771 4.37418C12.3297 4.37418 12.4761 4.31355 12.584 4.20563L13.3971 3.39253C13.4804 3.31175 13.5373 3.20766 13.5603 3.09394C13.5834 2.98023 13.5715 2.8622 13.5262 2.75537C13.4809 2.64854 13.4044 2.55791 13.3066 2.49537C13.2089 2.43284 13.0945 2.40133 12.9786 2.40499ZM7.97572 3.78336C6.85738 3.78336 5.78484 4.22762 4.99406 5.0184C4.20327 5.80919 3.75901 6.88173 3.75901 8.00007C3.75901 9.11841 4.20327 10.191 4.99406 10.9817C5.78484 11.7725 6.85738 12.2168 7.97572 12.2168C9.09406 12.2168 10.1666 11.7725 10.9574 10.9817C11.7482 10.191 12.1924 9.11841 12.1924 8.00007C12.1924 6.88173 11.7482 5.80919 10.9574 5.0184C10.1666 4.22762 9.09406 3.78336 7.97572 3.78336ZM0.883977 7.42506C0.807782 7.42399 0.732132 7.43806 0.661425 7.46648C0.590717 7.49489 0.526362 7.53707 0.472099 7.59057C0.417836 7.64408 0.374747 7.70783 0.345337 7.77813C0.315927 7.84842 0.300781 7.92387 0.300781 8.00007C0.300781 8.07627 0.315927 8.15172 0.345337 8.22202C0.374747 8.29231 0.417836 8.35607 0.472099 8.40957C0.526362 8.46307 0.590717 8.50525 0.661425 8.53366C0.732132 8.56208 0.807782 8.57615 0.883977 8.57508H2.03399C2.11018 8.57615 2.18583 8.56208 2.25654 8.53366C2.32725 8.50525 2.3916 8.46307 2.44587 8.40957C2.50013 8.35607 2.54322 8.29231 2.57263 8.22202C2.60204 8.15172 2.61719 8.07627 2.61719 8.00007C2.61719 7.92387 2.60204 7.84842 2.57263 7.77813C2.54322 7.70783 2.50013 7.64408 2.44587 7.59057C2.3916 7.53707 2.32725 7.49489 2.25654 7.46648C2.18583 7.43806 2.11018 7.42399 2.03399 7.42506H0.883977ZM13.9175 7.42506C13.8413 7.42399 13.7656 7.43806 13.6949 7.46648C13.6242 7.49489 13.5598 7.53707 13.5056 7.59057C13.4513 7.64408 13.4082 7.70783 13.3788 7.77813C13.3494 7.84842 13.3343 7.92387 13.3343 8.00007C13.3343 8.07627 13.3494 8.15172 13.3788 8.22202C13.4082 8.29231 13.4513 8.35607 13.5056 8.40957C13.5598 8.46307 13.6242 8.50525 13.6949 8.53366C13.7656 8.56208 13.8413 8.57615 13.9175 8.57508H15.0675C15.1437 8.57615 15.2193 8.56208 15.29 8.53366C15.3607 8.50525 15.4251 8.46307 15.4793 8.40957C15.5336 8.35607 15.5767 8.29231 15.6061 8.22202C15.6355 8.15172 15.6507 8.07627 15.6507 8.00007C15.6507 7.92387 15.6355 7.84842 15.6061 7.77813C15.5767 7.70783 15.5336 7.64408 15.4793 7.59057C15.4251 7.53707 15.3607 7.49489 15.29 7.46648C15.2193 7.43806 15.1437 7.42399 15.0675 7.42506H13.9175ZM3.76275 11.6208C3.61342 11.6252 3.47164 11.6875 3.36744 11.7945L2.55434 12.6076C2.50088 12.661 2.45848 12.7245 2.42954 12.7943C2.40061 12.8641 2.38571 12.939 2.3857 13.0146C2.38569 13.0901 2.40057 13.165 2.42949 13.2348C2.45842 13.3046 2.50081 13.3681 2.55425 13.4215C2.6077 13.475 2.67115 13.5174 2.74098 13.5463C2.81081 13.5752 2.88565 13.5901 2.96124 13.5901C3.03682 13.5901 3.11166 13.5752 3.18149 13.5463C3.25131 13.5173 3.31475 13.4749 3.36818 13.4215L4.18128 12.6084C4.26456 12.5276 4.32145 12.4235 4.34449 12.3098C4.36753 12.1961 4.35563 12.078 4.31035 11.9712C4.26508 11.8644 4.18855 11.7737 4.09082 11.7112C3.99308 11.6487 3.87872 11.6172 3.76275 11.6208ZM12.1707 11.6208C12.0563 11.6208 11.9445 11.655 11.8496 11.7189C11.7547 11.7829 11.681 11.8737 11.638 11.9797C11.595 12.0858 11.5846 12.2022 11.6081 12.3142C11.6317 12.4262 11.6881 12.5286 11.7702 12.6084L12.5833 13.4215C12.6367 13.4749 12.7001 13.5173 12.77 13.5462C12.8398 13.5751 12.9146 13.59 12.9902 13.59C13.0658 13.59 13.1406 13.5751 13.2104 13.5462C13.2802 13.5173 13.3437 13.4749 13.3971 13.4215C13.4505 13.368 13.4929 13.3046 13.5218 13.2348C13.5508 13.1649 13.5657 13.0901 13.5657 13.0145C13.5657 12.939 13.5508 12.8641 13.5218 12.7943C13.4929 12.7245 13.4505 12.661 13.3971 12.6076L12.584 11.7945C12.5303 11.7394 12.466 11.6956 12.395 11.6657C12.324 11.6359 12.2477 11.6206 12.1707 11.6208ZM7.96674 13.3586C7.81437 13.3609 7.66917 13.4237 7.56304 13.5331C7.45691 13.6424 7.39853 13.7894 7.40072 13.9418V15.0918C7.39964 15.168 7.41372 15.2437 7.44213 15.3144C7.47054 15.3851 7.51272 15.4494 7.56623 15.5037C7.61973 15.558 7.68348 15.601 7.75378 15.6305C7.82408 15.6599 7.89952 15.675 7.97572 15.675C8.05192 15.675 8.12737 15.6599 8.19767 15.6305C8.26797 15.601 8.33172 15.558 8.38522 15.5037C8.43872 15.4494 8.4809 15.3851 8.50932 15.3144C8.53773 15.2437 8.55181 15.168 8.55073 15.0918V13.9418C8.55183 13.8648 8.53748 13.7884 8.50851 13.7171C8.47954 13.6458 8.43655 13.5811 8.38209 13.5267C8.32763 13.4723 8.26281 13.4294 8.19146 13.4005C8.12011 13.3716 8.0437 13.3574 7.96674 13.3586Z" fill="#636E72" />
                    </svg>
                </Link>
                <Link
                    to={""}
                    className={`z-30 w-[130px] flex items-center justify-center cursor-pointer ${activeLink === 2 ? 'w-[31.35px] h-[21.35px] absolute bg-customgraybg dark:bg-customblackbg top-[49%] translate-y-[-50%] left-[7px] rounded-[15px]' : ' absolute top-[35%]  left-[0px]'}`}
                    onClick={() => handleLinkClick(2)}
                >
                    <svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="0 0 14 14" fill="none">
                        <path d="M10.968 0.32507C10.8417 0.327043 10.7214 0.379057 10.6334 0.469688C10.5455 0.560319 10.4971 0.682155 10.4989 0.808436V1.28498H10.0223C9.95919 1.28408 9.8965 1.29575 9.8379 1.3193C9.7793 1.34284 9.72596 1.3778 9.68099 1.42214C9.63602 1.46648 9.60031 1.51932 9.57594 1.57758C9.55156 1.63584 9.53901 1.69836 9.53901 1.76152C9.53901 1.82467 9.55156 1.88719 9.57594 1.94545C9.60031 2.00371 9.63602 2.05655 9.68099 2.10089C9.72596 2.14523 9.7793 2.18019 9.8379 2.20373C9.8965 2.22728 9.95919 2.23895 10.0223 2.23806H10.4989V2.7146C10.498 2.77774 10.5097 2.84044 10.5332 2.89904C10.5567 2.95764 10.5917 3.01097 10.636 3.05594C10.6804 3.10091 10.7332 3.13662 10.7915 3.161C10.8497 3.18537 10.9123 3.19792 10.9754 3.19792C11.0386 3.19792 11.1011 3.18537 11.1594 3.161C11.2176 3.13662 11.2705 3.10091 11.3148 3.05594C11.3591 3.01097 11.3941 2.95764 11.4176 2.89904C11.4412 2.84044 11.4529 2.77774 11.452 2.7146V2.23806H11.9285C11.9916 2.23895 12.0543 2.22728 12.1129 2.20373C12.1715 2.18019 12.2249 2.14523 12.2698 2.10089C12.3148 2.05655 12.3505 2.00371 12.3749 1.94545C12.3993 1.88719 12.4118 1.82467 12.4118 1.76152C12.4118 1.69836 12.3993 1.63584 12.3749 1.57758C12.3505 1.51932 12.3148 1.46648 12.2698 1.42214C12.2249 1.3778 12.1715 1.34284 12.1129 1.3193C12.0543 1.29575 11.9916 1.28408 11.9285 1.28498H11.452V0.808436C11.4529 0.744654 11.441 0.681337 11.417 0.622238C11.393 0.56314 11.3573 0.509462 11.3122 0.464385C11.2671 0.419309 11.2133 0.383752 11.1542 0.359821C11.0951 0.335891 11.0318 0.324074 10.968 0.32507ZM6.84541 1.28498C3.42957 1.28498 0.650391 4.06416 0.650391 7.47999C0.650391 10.8958 3.42957 13.675 6.84541 13.675C9.06926 13.675 11.1336 12.4669 12.2332 10.5229C12.3113 10.3847 12.3152 10.2163 12.2437 10.0743C12.1722 9.93227 12.0349 9.83523 11.877 9.81554C9.09941 9.47243 7.00425 7.10289 7.00425 4.30306C7.00425 3.49834 7.17832 2.71489 7.52175 1.97435C7.58846 1.82979 7.5786 1.6617 7.49569 1.52573C7.41277 1.39007 7.26734 1.30468 7.1085 1.29801L7.02845 1.29304C6.96777 1.28891 6.90704 1.28498 6.84541 1.28498ZM12.5564 4.45508C12.4302 4.45706 12.3098 4.50907 12.2219 4.5997C12.1339 4.69033 12.0855 4.81217 12.0873 4.93845V5.41499H11.6108C11.5477 5.41409 11.485 5.42576 11.4264 5.44931C11.3678 5.47286 11.3144 5.50782 11.2695 5.55216C11.2245 5.5965 11.1888 5.64933 11.1644 5.70759C11.14 5.76585 11.1275 5.82837 11.1275 5.89153C11.1275 5.95468 11.14 6.01721 11.1644 6.07547C11.1888 6.13373 11.2245 6.18656 11.2695 6.2309C11.3144 6.27524 11.3678 6.3102 11.4264 6.33375C11.485 6.35729 11.5477 6.36896 11.6108 6.36807H12.0873V6.84461C12.0865 6.90775 12.0981 6.97045 12.1217 7.02905C12.1452 7.08765 12.1802 7.14098 12.2245 7.18595C12.2689 7.23093 12.3217 7.26664 12.3799 7.29101C12.4382 7.31538 12.5007 7.32793 12.5639 7.32793C12.627 7.32793 12.6896 7.31538 12.7478 7.29101C12.8061 7.26664 12.8589 7.23093 12.9033 7.18595C12.9476 7.14098 12.9826 7.08765 13.0061 7.02905C13.0297 6.97045 13.0413 6.90775 13.0404 6.84461V6.36807H13.517C13.5801 6.36896 13.6428 6.35729 13.7014 6.33375C13.76 6.3102 13.8133 6.27524 13.8583 6.2309C13.9033 6.18656 13.939 6.13373 13.9634 6.07547C13.9877 6.01721 14.0003 5.95468 14.0003 5.89153C14.0003 5.82837 13.9877 5.76585 13.9634 5.70759C13.939 5.64933 13.9033 5.5965 13.8583 5.55216C13.8133 5.50782 13.76 5.47286 13.7014 5.44931C13.6428 5.42576 13.5801 5.41409 13.517 5.41499H13.0404V4.93845C13.0413 4.87467 13.0294 4.81135 13.0054 4.75225C12.9814 4.69315 12.9458 4.63947 12.9007 4.5944C12.8555 4.54932 12.8018 4.51376 12.7427 4.48983C12.6836 4.4659 12.6202 4.45409 12.5564 4.45508Z" fill="#636E72" />
                    </svg>
                </Link>

                {/* <span
                    className={``}
                ></span> */}
            </div>

        </div>
    );
};

export default ThemeSwitcher;
